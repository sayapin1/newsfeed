{% extends 'base.html' %} {% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"

            crossorigin="anonymous"></script>

    <title>13_log</title>

    <style>


        body {
            margin: 0;
        }

        .col {

            transition: box-shadow 0.25s ease-in 0s, transform 0.25s ease-in 0s;
        }

        .word {
            display: -webkit-box;
            word-wrap: break-word;
            -webkit-line-clamp: 5;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            height: 150px;
        }

        .imgUp:hover {
            padding-bottom: 0px;
            transform: translate(0, -9px);
        }

        .pagination {
            padding: .6em;
            width: 17em;
            margin-left: auto;
            margin-right: auto;
            font-size: 18px;
        }

    </style>

</head>
<body>
<script>
    //   $(document).ready(function () {
    //     show_post();
    // });
    //
    //   function show_post() {
    //     $.ajax({
    //         type: "GET",
    //         url: "/post/get",
    //         data: {},
    //         success: function (response) {
    //             let rows = response['posts']
    //             for (let i = 0; i < rows.length; i++) {
    //
    //                 let s = rows[i]['number'];
    //
    //                 let title = rows[i]['title'];
    //                 let content = rows[i]['content'];
    //                 let created_at = rows[i]['created_at'];
    //                 let category = rows[i]['category'];
    //                 let name = rows[i]['name'];
    //
    //                 let temp_html = `<div class="col imgUp" style="cursor: pointer;" onclick="location.href='post/${s}'">
    //                                     <div class="scale card shadow-sm">
    //                                         <div style="background-image: url(https://blog.kakaocdn.net/dn/bZ0Jlo/btrmXvMjTNg/fRk9PzJpOox2KhrK3bpoNk/img.png); height: 300px; width: 415px; border: 1px solid black;background-size: cover;"></div>
    //                                          <div class="card-body">
    //                                             <p class="card-text"><h3>${title}</h3><h6>${category}</h6></p>
    //                                             <p class="card-text"><h5 class="word"><i>${content}</i></h5></p>
    //                                             <div class="d-flex justify-content-between align-items-center">
    //                                                 <h6 class="text-muted">${created_at}</h6>
    //                                                 <h6>${name}</h6>
    //                                             </div>
    //                                         </div>
    //                                     </div>
    //                                 </div>`
    //                 $('#posts').append(temp_html);
    //
    //             }
    //         }
    //     })
    // }
    //    처음에 ajax 콜로 구현을 했었으나 render_template으로 변경하여 ajax콜 한 부분은 다 주석처리함.



</script>


<main>


    <div class="album py-5 bg-light">
        <div class="container" style="background-color: #f5f5f5">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                {% for i in post_list %}
                <div class="col imgUp" style="cursor: pointer;" onclick="location.href='post/{{i[6]}}/{{i[0]}}'">
                    <div class="scale card shadow-sm">
                        <div style="background-image: url(https://blog.kakaocdn.net/dn/bZ0Jlo/btrmXvMjTNg/fRk9PzJpOox2KhrK3bpoNk/img.png); height: 300px; width: 415px; border: 1px solid black;background-size: cover;"></div>
                        <div class="card-body">
                            <p class="card-text">
                            <h3>{{i[1]}}</h3><h6>{{i[4]}}</h6></p>
                            <p class="card-text"><h5 class="word"><i>{{i[2]}}</i></h5></p>
                            <div class="d-flex justify-content-between align-items-center">
                                <h6 class="text-muted">{{i[3]}}</h6>
                                <h6>{{i[5]}}</h6>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}

  
            </div>
        </div>

    </div>

    {{ pagination.links }}
</main>
<footer></footer>
</body>
</html>
{% endblock %}

